---
// Import necessary components
import MainPageMenu from "../components/MainPageMenu.astro"; // Importing MainPageMenu component
import Main from "../layouts/Main.astro"; // Importing Main layout
import Footer from "../components/Footer.astro"; // Importing Footer component
import CorpHeadCard from "../components/CorpHeadCard.astro"; // Importing CorpHeadCard component
import SearchBar from "../components/SearchBar.astro";
import { Icon } from 'astro-icon/components';
import { moveWindow, Position } from "tauri-plugin-positioner-api";



---

<!-- // Render the main layout, setting the title for the page -->
<Main title="Employee Directory">
  <!-- // Outermost container for the content -->
  <div class=" flex flex-col h-screen "> 
    <!-- card card-compact -->
    <section class=" pb-0 ">
      <!-- {/* Render the corporate header card with relevant information */} -->
      <CorpHeadCard
        headCard={[
          {
            title: "Employee Directory",
            subtitle1: "Corp. Phone",
            address: "1500 Hamilton Rd,",
            city: "Bossier City,",
            state: "LA",
            zip: "71111",
            subtitle2: "Corp. Email",
            phone: "(888) 245-3696",
            email: "info@mcelroymetal.com",
            subtitle3: "IT Help Desk",
            phone2: "(866) 634-5111",
          },
        ]}
      />
    </section>

    <!-- Visual divider between sections -->
    <div class=" divide divide-none divide-y-2 py-0  "></div>

    <!-- Section for the main page menu -->
    <section
    class="flex-grow pb-0 pt-0 no-scrollbar overflow-y-scroll overscroll-contain scroll-auto scroll-mx-px bg-inherit"
      
    >
    <div class="shadow-sm drop-shadow-sm bg-secondary">
      <SearchBar />
      <!-- <SearchWidget /> -->
    </div>
      <div
        class=" ps-2 py-1 pe-4 pt-2 mt-2 bg-background border-4 border-transparent no-scrollbar flex-auto scroll-auto overscroll-contain overflow-visible"
      >
        <!-- <div id="search" transition:persist></div> -->
        <!-- Render the MainPageMenu component with location options -->
        <MainPageMenu
          loctypes={[
            // Each object represents a menu item with properties like location, path, description, and icon
            {
              location: "CORPORATE",
              to: "/corporate",
              desc: "corp-btn btn btn-block bg-transparent box-decoration-clone hover:bg-transparent  border-none shadow-transparent text-white opacity-90 ",
              icon: "corporate",
            },
            {
              location: "METAL MART",
              to: "/metalmart",
              desc: "mm-btn btn btn-block bg-transparent box-decoration-clone hover:bg-transparent border-none shadow-transparent text-white opacity-90",
              icon: "store",
            },
            {
              location: "SERVICE CENTER",
              to: "/servicecenter",
              desc: "sc-btn btn btn-block bg-transparent box-decoration-clone hover:bg-transparent border-none shadow-transparent text-white opacity-90",
              icon: "service_center",
            },
            {
              location: "PLANT",
              to: "/plant",
              desc: "plant-btn btn btn-block bg-transparent box-decoration-clone hover:bg-transparent border-none shadow-transparent text-white opacity-90",
              icon: "plant",
            },
          ]}
        />
      </div>
    </section>

    <!-- Section for the page footer -->
    <div class=" divide divide-none divide-y-2 py-0 "></div>
    <section class="box-border mt-0 pb-3">
      <!-- <SearchBar /> -->
      <!-- Render the Footer component with navigation links -->
      <Footer
        bottomNav={[
          // Navigation items for the footer with icons and labels
          { icon: "corporate", label: "Corporate", to: "/corporate" },
          { icon: "store", label: "Metal Mart", to: "/metalmart" },
          {
            icon: "service_center",
            label: "Service Center",
            to: "/servicecenter",
          },
          { icon: "plant", label: "Plant", to: "/plant" },
        ]}
      />
    </section>
  </div>
  <script >
    import { moveWindow, Position } from "tauri-plugin-positioner-api";
    import { getCurrent } from '@tauri-apps/api/window';

    async function windowPosition() {
      await moveWindow(Position.RightCenter);
    }

    async function showWindow() {
      const window = await getCurrent();
      window.show();
    }
    windowPosition();
    showWindow();
  </script>
  
</Main>

<style>
  .card {
    /* margin: 0 auto; */
    /* box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2); */
  }
</style>



